{% extends "base.html" %}
{% load static %}
{% load crispy_forms_tags %}

{% block content %}
<div class="tripdetail-content">
    <h1>{{ trip_day.title }}</h1>
    <h2><a href="{% url 'tripdetail' trip_day.trip.pk %}" class="trip-link">
        {{ trip_day.trip.name }}
    </a></h2>
    <h3><a href="{% url 'travellerprofile' trip_day.author.pk %}" class="trip-link">
        {{trip_day.author.firstname}} {{trip_day.author.lastname}}
    </a></h3> 
    <h4>{{ trip_day.day_date }}</h4>  
    <h5>{{ trip_day.locations }}</h5>  
    <div class="row">
        <div class="col-12">
            <div class="image-detail-div">
                {% if trip_day.day_photo.url == "" %}
                    <img class="trip-day-image" src="{% static 'images/nobody.jpg' %}"
                        alt="placeholder image">
                {% else %}
                    <img class="trip-day-image" src=" {{ trip_day.day_photo.url }}" 
                        alt="{{ trip_day.title}}">
                {% endif %}
            </div>
            <div class="info-div">
                <div class="border tripday-body">
                    <p>{{ trip_day.body }}</p>
                </div>
            </div>
        </div>
    </div>
    {% if trip_day.author.user == user %}
    <div class="row">
        <div class="col-6 text-center">
            <a href="{% url 'create_trip_day' trip_day.trip.pk %}" class="tripday-link">
                Add Another Journal Entry
            </a>
        </div>
        <div class="col-6 text-center">
            <!-- Edit trip functionality -->
            <form action="{% url 'edit_trip_day' trip_day.trip.pk trip_day.pk %}" method="GET">
                {% csrf_token %}
                <button type="submit" name="trip_id" value="{{ trip.id }}" class="button float-end">
                    Edit or Delete Journal Entry
                </button>
            </form>
        </div>
    </div>
    {% endif %}
</div>

{% endblock content %}
