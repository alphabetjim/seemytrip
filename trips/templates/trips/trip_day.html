{% extends "base.html" %}
{% load static %}
{% load crispy_forms_tags %}

{% block content %}
<div class="tripdetail-content">
    <h1>{{ trip_day.title }}</h1>
    <h2><a href="{% url 'tripdetail' trip_day.trip.pk %}" class="trip-link">
        {{ trip_day.trip.name }}
    </a></h2>
    <h3><a href="{% url 'travellerprofile' trip_day.author.pk %}" class="trip-link">
        {{trip_day.author.firstname}} {{trip_day.author.lastname}}
    </a></h3>   
    <div class="row">
        <div class="col-12">
            <div class="image-detail-div">
                {% if trip_day.day_photo.url == "" %}
                    <img class="trip-image" src="{% static 'images/nobody.jpg' %}"
                        alt="placeholder image">
                {% else %}
                    <img class="trip-image" src=" {{ trip_day.day_photo.url }}" 
                        alt="{{ trip_day.title}}">
                {% endif %}
            </div>
            <div class="col-12 info-div">
                <div class="row w-100 tripinfo-row">
                    <div class="col-6 flex-fill">
                        <p class="tripInfoType-p"><strong>Date</strong></p>
                    </div>
                    <div class="col-6 flex-fill">
                        <p>{{ trip_day.day_date }}</p>
                    </div>
                </div>
                <div class="row w-100 border tripdetail-itinerary">
                    <p>{{ trip_day.body }}</p>
                </div>
            </div>
            {% if trip_day.author.user == user %}
            <a href="{% url 'create_trip_day' trip_day.trip.pk %}" class="tripday-link">
                Add Another Journal Entry
            </a>
            <!-- Edit trip functionality -->
            <form action="{% url 'edit_trip_day' trip_day.trip.pk trip_day.pk %}" method="GET">
                {% csrf_token %}
                <button type="submit" name="trip_id" value="{{ trip.id }}" class="button float-end">
                    Edit or Delete Journal Entry
                </button>
            </form>

            {% endif %}
        </div>
    </div>
</div>

{% endblock content %}
